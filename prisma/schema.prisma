generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Application {
  application_id      String             @id 
  user_id             String             
  application_status  String
  application_answers String
  Interview           Interview[]
  Application_Meta    Application_Meta[]
}

model Application_Meta {
  id           String      @id 
  admin_id     String      
  response     String
  deleted      Boolean     @default(false)
  responded_at DateTime    @default(now())
  application  Application @relation(fields: [id], references: [application_id])
}

model Interview {
  interview_id     String              @id
  user_id          String
  application_id   String
  interview_status String
  interview_date   DateTime?
  application      Application?     @relation(fields: [application_id], references: [application_id])
}

model Member {
  member_id     String       @id
  user_id       String       @unique
  last_seen     DateTime?
  grace_period  DateTime?
  member_status String
  sessions      Session[]
}

model Server {
  server_id    String       @id @default(uuid())
  server_name  String
  server_token String
  Session      Session[]
}

model Session {
  session_id Int       @id @default(autoincrement())
  member_id  String
  server_id  String
  start_time DateTime  @default(now())
  end_time   DateTime?
  member     Member    @relation(fields: [member_id], references: [member_id])
  server     Server    @relation(fields: [server_id], references: [server_id])
}